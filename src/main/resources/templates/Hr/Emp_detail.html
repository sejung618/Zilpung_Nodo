<html layout:decorate="~{layout}">

<head>

</head>

<body>
	<div layout:fragment="content" class="container my-3">
		<h1>사원 정보</h1>

		<!--테이블 시작-->
		<table class="table table-bordered table-hover-td">

			<thead class="table-primary">
				<tr class="text-center">
					<th>사번</th>
					<th>이름</th>
					<th>입사일</th>
					<th>부서</th>
					<th>직책</th>
					<th>직위</th>
				</tr>
			</thead>

			<tbody>
				<tr class="text-center">
					<td th:text="${empDtail.empnum}"></td>
					<td th:text="${empDtail.empname}"></td>
					<td th:text="${empDtail.empdate}"></td>
					<td><span th:if="${empDtail.depart != null}" th:text="${empDtail.depart.depname}"></span></td>
					<td th:text="${empDtail.empposition}"></td>
					<td th:text="${empDtail.empspot}"></td>

				</tr>
			</tbody>
		</table>
		
		<div class="my-3"sec:authorize="isAuthenticated()" 
		th:if="${empDtail.id != null and #authentication.principal.Empid == empDtail.id}">
			<a th:href="@{|/Hr/modify/${empDtail.id}|}" class="btn btn-primary" th:text="수정"></a>
			
			<a th:href="@{|/Hr/pass/${empDtail.id}|}" class="btn btn-primary" th:text="비밀번호변경"></a>
			
			<a href="javascript:void(0);" th:data-uri="@{|/Hr/delete/${empDtail.id}|}"
				class="delete btn btn-sm btn-outline-secondary" th:text="삭제"></a>

			
		</div>
		
			<a class="btn btn-primary" href="#" data-toggle="modal1" data-target="#Modal">
				모달 테스트
			</a>
			
		<div th:replace="~{modal}"></div>
			
	</div>


	<script layout:fragment="script" type='text/javascript'>
		const delete_elements = document.getElementsByClassName("delete");
		Array.from(delete_elements).forEach(function (element) {
			element.addEventListener('click', function () {
				if (confirm("정말로 삭제하시겠습니까?")) {
					location.href = this.dataset.uri;
				};
			});
		});
	</script>



</body>